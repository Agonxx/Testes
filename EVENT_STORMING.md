# Event Storming - FIAP Cloud Games

## SumÃ¡rio

1. [IntroduÃ§Ã£o](#introduÃ§Ã£o)
2. [Legenda de Cores](#legenda-de-cores)
3. [Bounded Contexts](#bounded-contexts)
4. [Fluxo 1: GestÃ£o de UsuÃ¡rios](#fluxo-1-gestÃ£o-de-usuÃ¡rios)
5. [Fluxo 2: AutenticaÃ§Ã£o](#fluxo-2-autenticaÃ§Ã£o)
6. [Fluxo 3: CatÃ¡logo de Jogos](#fluxo-3-catÃ¡logo-de-jogos)
7. [Fluxo 4: Biblioteca e Compras](#fluxo-4-biblioteca-e-compras)
8. [Big Picture](#big-picture)
9. [Detalhamento dos Elementos](#detalhamento-dos-elementos)
10. [GlossÃ¡rio de DomÃ­nio](#glossÃ¡rio-de-domÃ­nio)

---

## IntroduÃ§Ã£o

Este documento apresenta o **Event Storming** do sistema **FIAP Cloud Games**, uma plataforma de comercializaÃ§Ã£o de jogos digitais estilo Steam/Epic Games. O Event Storming foi gerado atravÃ©s de engenharia reversa da API existente.

### Sobre o Sistema

O FIAP Cloud Games Ã© uma API REST que permite:
- Gerenciamento de usuÃ¡rios (admins e usuÃ¡rios comuns)
- CatÃ¡logo de jogos digitais
- Sistema de compras e biblioteca pessoal
- AutenticaÃ§Ã£o via JWT

### Metodologia

O Event Storming utiliza post-its coloridos para representar diferentes elementos do domÃ­nio, organizados em uma linha do tempo da esquerda para a direita, seguindo o fluxo de eventos de negÃ³cio.

---

## Legenda de Cores

| Cor | CÃ³digo Hex | Elemento | DescriÃ§Ã£o |
|-----|------------|----------|-----------|
| ğŸŸ  Laranja | `#FF9900` | **Evento de DomÃ­nio** | Algo que aconteceu no passado (sempre no particÃ­pio) |
| ğŸ”µ Azul | `#0066CC` | **Comando** | AÃ§Ã£o que dispara um evento (imperativo) |
| ğŸŸ¡ Amarelo | `#FFCC00` | **Agregado** | Entidade que recebe comandos e emite eventos |
| ğŸŸ£ Roxo | `#9933FF` | **PolÃ­tica** | Regra de negÃ³cio / invariante |
| ğŸŸ¢ Verde | `#33CC33` | **Read Model** | VisualizaÃ§Ã£o / projeÃ§Ã£o de dados |
| ğŸ©· Rosa | `#FF66B2` | **Sistema Externo** | Sistema ou serviÃ§o externo |
| ğŸ‘¤ Amarelo Pequeno | `#FFE066` | **Ator** | Pessoa que executa comandos |
| â“ Vermelho | `#FF3333` | **Hot Spot** | DÃºvida / ponto de atenÃ§Ã£o |

---

## Bounded Contexts

O sistema estÃ¡ organizado em **3 Bounded Contexts** principais:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           FIAP CLOUD GAMES                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                     â”‚                     â”‚                                     â”‚
â”‚  GESTÃƒO DE          â”‚  CATÃLOGO DE        â”‚  BIBLIOTECA /                       â”‚
â”‚  USUÃRIOS           â”‚  JOGOS              â”‚  COMPRAS                            â”‚
â”‚                     â”‚                     â”‚                                     â”‚
â”‚  - Cadastro         â”‚  - CRUD de Jogos    â”‚  - Compra de Jogos                  â”‚
â”‚  - AutenticaÃ§Ã£o     â”‚  - Listagem         â”‚  - Biblioteca Pessoal               â”‚
â”‚  - AutorizaÃ§Ã£o      â”‚  - Busca            â”‚  - HistÃ³rico                        â”‚
â”‚                     â”‚                     â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Fluxo 1: GestÃ£o de UsuÃ¡rios

### Diagrama do Fluxo

```
CRIAR USUÃRIO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  ğŸ‘¤ ADMIN          ğŸ”µ COMANDO           ğŸŸ¡ AGREGADO         ğŸŸ  EVENTO
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚         â”‚      â”‚                 â”‚   â”‚           â”‚      â”‚                  â”‚
  â”‚  Admin  â”‚â”€â”€â”€â”€â”€â–¶â”‚  CriarUsuario   â”‚â”€â”€â–¶â”‚  Usuario  â”‚â”€â”€â”€â”€â”€â–¶â”‚  UsuarioCriado   â”‚
  â”‚         â”‚      â”‚                 â”‚   â”‚           â”‚      â”‚                  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚                    â”‚
                          â–¼                    â”‚
                   ğŸŸ£ POLÃTICAS                â”‚
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
                   â”‚ Email deve ser  â”‚         â”‚
                   â”‚ Ãºnico           â”‚         â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
                   â”‚ Senha deve ser  â”‚         â”‚
                   â”‚ criptografada   â”‚         â”‚
                   â”‚ (AES)           â”‚         â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
                                               â”‚
                                               â–¼
                                        ğŸ©· SISTEMA EXTERNO
                                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                        â”‚ CryptoService   â”‚
                                        â”‚ (AES)           â”‚
                                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


ATUALIZAR USUÃRIO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  ğŸ‘¤ ADMIN          ğŸ”µ COMANDO           ğŸŸ¡ AGREGADO         ğŸŸ  EVENTO
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚         â”‚      â”‚                 â”‚   â”‚           â”‚      â”‚                  â”‚
  â”‚  Admin  â”‚â”€â”€â”€â”€â”€â–¶â”‚ AtualizarUsuarioâ”‚â”€â”€â–¶â”‚  Usuario  â”‚â”€â”€â”€â”€â”€â–¶â”‚UsuarioAtualizado â”‚
  â”‚         â”‚      â”‚                 â”‚   â”‚           â”‚      â”‚                  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
                   ğŸŸ£ POLÃTICAS
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚ Email nÃ£o pode  â”‚
                   â”‚ duplicar outro  â”‚
                   â”‚ usuÃ¡rio         â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


EXCLUIR USUÃRIO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  ğŸ‘¤ ADMIN          ğŸ”µ COMANDO           ğŸŸ¡ AGREGADO         ğŸŸ  EVENTO
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚         â”‚      â”‚                 â”‚   â”‚           â”‚      â”‚                  â”‚
  â”‚  Admin  â”‚â”€â”€â”€â”€â”€â–¶â”‚ ExcluirUsuario  â”‚â”€â”€â–¶â”‚  Usuario  â”‚â”€â”€â”€â”€â”€â–¶â”‚ UsuarioExcluido  â”‚
  â”‚         â”‚      â”‚                 â”‚   â”‚           â”‚      â”‚                  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
                   ğŸŸ£ POLÃTICAS
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚ ID deve existir â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


CONSULTAR USUÃRIOS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  ğŸ‘¤ ADMIN          ğŸ”µ COMANDO           ğŸŸ¡ AGREGADO         ğŸŸ¢ READ MODEL
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚         â”‚      â”‚                 â”‚   â”‚           â”‚      â”‚                  â”‚
  â”‚  Admin  â”‚â”€â”€â”€â”€â”€â–¶â”‚ ListarUsuarios  â”‚â”€â”€â–¶â”‚  Usuario  â”‚â”€â”€â”€â”€â”€â–¶â”‚ Lista de Usuariosâ”‚
  â”‚         â”‚      â”‚                 â”‚   â”‚           â”‚      â”‚                  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚         â”‚      â”‚                 â”‚   â”‚           â”‚      â”‚                  â”‚
  â”‚  Admin  â”‚â”€â”€â”€â”€â”€â–¶â”‚ BuscarUsuarioPorâ”‚â”€â”€â–¶â”‚  Usuario  â”‚â”€â”€â”€â”€â”€â–¶â”‚ Detalhe Usuario  â”‚
  â”‚         â”‚      â”‚ Id              â”‚   â”‚           â”‚      â”‚                  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Tabela de Comandos - UsuÃ¡rios

| Comando | Endpoint | Ator | PolÃ­ticas | Evento |
|---------|----------|------|-----------|--------|
| CriarUsuario | `POST /api/usuario/Create` | Admin | Email Ãºnico, Senha criptografada | UsuarioCriado |
| AtualizarUsuario | `PUT /api/usuario/Update` | Admin | Email nÃ£o duplicado | UsuarioAtualizado |
| ExcluirUsuario | `DELETE /api/usuario/DeleteById` | Admin | ID deve existir | UsuarioExcluido |
| ListarUsuarios | `GET /api/usuario/GetAll` | Admin | - | - (Query) |
| BuscarUsuarioPorId | `GET /api/usuario/GetById` | Admin | ID deve existir | - (Query) |

---

## Fluxo 2: AutenticaÃ§Ã£o

### Diagrama do Fluxo

```
AUTENTICAR USUÃRIO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  ğŸ‘¤ USUÃRIO        ğŸ”µ COMANDO           ğŸŸ¡ AGREGADO         ğŸŸ  EVENTO
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚         â”‚      â”‚                 â”‚   â”‚           â”‚      â”‚                  â”‚
  â”‚ UsuÃ¡rio â”‚â”€â”€â”€â”€â”€â–¶â”‚   Autenticar    â”‚â”€â”€â–¶â”‚  Usuario  â”‚â”€â”€â”€â”€â”€â–¶â”‚   Usuario        â”‚
  â”‚ (anon)  â”‚      â”‚                 â”‚   â”‚           â”‚      â”‚   Autenticado    â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚                    â”‚                    â”‚
                          â–¼                    â”‚                    â–¼
                   ğŸŸ£ POLÃTICAS                â”‚            ğŸ©· SISTEMA EXTERNO
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚ Email deve      â”‚         â”‚            â”‚                 â”‚
                   â”‚ existir         â”‚         â”‚            â”‚  TokenService   â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚            â”‚  (JWT HS256)    â”‚
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚            â”‚                 â”‚
                   â”‚ Senha deve      â”‚         â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚ corresponder ao â”‚         â”‚                    â”‚
                   â”‚ hash            â”‚         â”‚                    â–¼
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚            ğŸŸ¢ READ MODEL
                          â”‚                    â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â–¼                    â”‚            â”‚ Token JWT       â”‚
                   ğŸ©· SISTEMA EXTERNO          â”‚            â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚            â”‚ Claims:         â”‚
                   â”‚                 â”‚         â”‚            â”‚ - Id            â”‚
                   â”‚  CryptoService  â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚ - Nome          â”‚
                   â”‚  (descriptografaâ”‚                      â”‚ - Email         â”‚
                   â”‚   para validar) â”‚                      â”‚ - Nivel         â”‚
                   â”‚                 â”‚                      â”‚ - CadastradoEm  â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


CONSULTAR PERFIL PRÃ“PRIO (GetMe)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  ğŸ‘¤ USUÃRIO        ğŸ”µ COMANDO           ğŸŸ¡ AGREGADO         ğŸŸ¢ READ MODEL
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚         â”‚      â”‚                 â”‚   â”‚           â”‚      â”‚                  â”‚
  â”‚ UsuÃ¡rio â”‚â”€â”€â”€â”€â”€â–¶â”‚ ConsultarMeus   â”‚â”€â”€â–¶â”‚  Usuario  â”‚â”€â”€â”€â”€â”€â–¶â”‚    InfoToken     â”‚
  â”‚ (auth)  â”‚      â”‚ Dados           â”‚   â”‚ (context) â”‚      â”‚  (Perfil atual)  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
                   ğŸŸ£ POLÃTICAS
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚ Token JWT deve  â”‚
                   â”‚ ser vÃ¡lido      â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Tabela de Comandos - AutenticaÃ§Ã£o

| Comando | Endpoint | Ator | PolÃ­ticas | Evento/Read Model |
|---------|----------|------|-----------|-------------------|
| Autenticar | `POST /api/usuario/Auth` | AnÃ´nimo | Email existe, Senha vÃ¡lida | UsuarioAutenticado + Token JWT |
| ConsultarMeusDados | `GET /api/usuario/GetMe` | UsuÃ¡rio Autenticado | Token vÃ¡lido | InfoToken (Read Model) |

---

## Fluxo 3: CatÃ¡logo de Jogos

### Diagrama do Fluxo

```
CADASTRAR JOGO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  ğŸ‘¤ ADMIN          ğŸ”µ COMANDO           ğŸŸ¡ AGREGADO         ğŸŸ  EVENTO
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚         â”‚      â”‚                 â”‚   â”‚           â”‚      â”‚                  â”‚
  â”‚  Admin  â”‚â”€â”€â”€â”€â”€â–¶â”‚  CadastrarJogo  â”‚â”€â”€â–¶â”‚   Jogo    â”‚â”€â”€â”€â”€â”€â–¶â”‚  JogoCadastrado  â”‚
  â”‚         â”‚      â”‚                 â”‚   â”‚           â”‚      â”‚                  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
                   ğŸŸ£ POLÃTICAS
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚ TÃ­tulo Ã©        â”‚
                   â”‚ obrigatÃ³rio     â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚ PreÃ§o deve ser  â”‚
                   â”‚ maior que zero  â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


ATUALIZAR JOGO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  ğŸ‘¤ ADMIN          ğŸ”µ COMANDO           ğŸŸ¡ AGREGADO         ğŸŸ  EVENTO
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚         â”‚      â”‚                 â”‚   â”‚           â”‚      â”‚                  â”‚
  â”‚  Admin  â”‚â”€â”€â”€â”€â”€â–¶â”‚  AtualizarJogo  â”‚â”€â”€â–¶â”‚   Jogo    â”‚â”€â”€â”€â”€â”€â–¶â”‚  JogoAtualizado  â”‚
  â”‚         â”‚      â”‚                 â”‚   â”‚           â”‚      â”‚                  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
                   ğŸŸ£ POLÃTICAS
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚ ID deve existir â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚ TÃ­tulo Ã©        â”‚
                   â”‚ obrigatÃ³rio     â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚ PreÃ§o deve ser  â”‚
                   â”‚ maior que zero  â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


EXCLUIR JOGO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  ğŸ‘¤ ADMIN          ğŸ”µ COMANDO           ğŸŸ¡ AGREGADO         ğŸŸ  EVENTO
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚         â”‚      â”‚                 â”‚   â”‚           â”‚      â”‚                  â”‚
  â”‚  Admin  â”‚â”€â”€â”€â”€â”€â–¶â”‚   ExcluirJogo   â”‚â”€â”€â–¶â”‚   Jogo    â”‚â”€â”€â”€â”€â”€â–¶â”‚   JogoExcluido   â”‚
  â”‚         â”‚      â”‚                 â”‚   â”‚           â”‚      â”‚                  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚                                        â”‚
                          â–¼                                        â–¼
                   ğŸŸ£ POLÃTICAS                             ğŸŸ£ POLÃTICA (CASCATA)
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚ ID deve existir â”‚                     â”‚ Itens da        â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚ biblioteca sÃ£o  â”‚
                                                           â”‚ excluÃ­dos em    â”‚
                                                           â”‚ cascata         â”‚
                                                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


LISTAR JOGOS (CATÃLOGO)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  ğŸ‘¤ USUÃRIO        ğŸ”µ COMANDO           ğŸŸ¡ AGREGADO         ğŸŸ¢ READ MODEL
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ UsuÃ¡rio â”‚      â”‚                 â”‚   â”‚           â”‚      â”‚                  â”‚
  â”‚   ou    â”‚â”€â”€â”€â”€â”€â–¶â”‚   ListarJogos   â”‚â”€â”€â–¶â”‚   Jogo    â”‚â”€â”€â”€â”€â”€â–¶â”‚  CatÃ¡logo de     â”‚
  â”‚  Admin  â”‚      â”‚                 â”‚   â”‚           â”‚      â”‚  Jogos           â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


BUSCAR JOGO POR ID
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  ğŸ‘¤ USUÃRIO        ğŸ”µ COMANDO           ğŸŸ¡ AGREGADO         ğŸŸ¢ READ MODEL
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ UsuÃ¡rio â”‚      â”‚                 â”‚   â”‚           â”‚      â”‚                  â”‚
  â”‚   ou    â”‚â”€â”€â”€â”€â”€â–¶â”‚ BuscarJogoPorId â”‚â”€â”€â–¶â”‚   Jogo    â”‚â”€â”€â”€â”€â”€â–¶â”‚  Detalhe do Jogo â”‚
  â”‚  Admin  â”‚      â”‚                 â”‚   â”‚           â”‚      â”‚                  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
                   ğŸŸ£ POLÃTICAS
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚ ID deve existir â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Tabela de Comandos - Jogos

| Comando | Endpoint | Ator | PolÃ­ticas | Evento |
|---------|----------|------|-----------|--------|
| CadastrarJogo | `POST /api/jogo/Create` | Admin | TÃ­tulo obrigatÃ³rio, PreÃ§o > 0 | JogoCadastrado |
| AtualizarJogo | `PUT /api/jogo/Update` | Admin | ID existe, TÃ­tulo obrigatÃ³rio, PreÃ§o > 0 | JogoAtualizado |
| ExcluirJogo | `DELETE /api/jogo/DeleteById` | Admin | ID existe, Cascade delete biblioteca | JogoExcluido |
| ListarJogos | `GET /api/jogo/GetAll` | UsuÃ¡rio/Admin | - | - (Query) |
| BuscarJogoPorId | `GET /api/jogo/GetById` | UsuÃ¡rio/Admin | ID existe | - (Query) |

---

## Fluxo 4: Biblioteca e Compras

### Diagrama do Fluxo

```
COMPRAR JOGO (FLUXO PRINCIPAL)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  ğŸ‘¤ USUÃRIO        ğŸ”µ COMANDO           ğŸŸ¡ AGREGADO         ğŸŸ  EVENTO
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚         â”‚      â”‚                 â”‚   â”‚  Item     â”‚      â”‚                  â”‚
  â”‚ UsuÃ¡rio â”‚â”€â”€â”€â”€â”€â–¶â”‚   ComprarJogo   â”‚â”€â”€â–¶â”‚ Bibliotecaâ”‚â”€â”€â”€â”€â”€â–¶â”‚  JogoComprado    â”‚
  â”‚         â”‚      â”‚                 â”‚   â”‚           â”‚      â”‚                  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚                    â”‚                    â”‚
                          â”‚                    â”‚                    â”‚
                          â–¼                    â”‚                    â–¼
                   ğŸŸ£ POLÃTICAS                â”‚            ğŸŸ  EVENTO (implÃ­cito)
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚ Jogo deve       â”‚         â”‚            â”‚ JogoAdicionado  â”‚
                   â”‚ existir         â”‚         â”‚            â”‚ NaBiblioteca    â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
                   â”‚ UsuÃ¡rio nÃ£o     â”‚         â”‚
                   â”‚ pode ter o      â”‚         â”‚
                   â”‚ mesmo jogo      â”‚         â”‚
                   â”‚ duas vezes      â”‚         â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
                   â”‚ Snapshot do     â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚ preÃ§o atual     â”‚
                   â”‚ (PrecoPago)     â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


CONSULTAR MINHA BIBLIOTECA
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  ğŸ‘¤ USUÃRIO        ğŸ”µ COMANDO           ğŸŸ¡ AGREGADO         ğŸŸ¢ READ MODEL
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚         â”‚      â”‚                 â”‚   â”‚  Item     â”‚      â”‚ Minha Biblioteca â”‚
  â”‚ UsuÃ¡rio â”‚â”€â”€â”€â”€â”€â–¶â”‚ ConsultarMeus   â”‚â”€â”€â–¶â”‚ Bibliotecaâ”‚â”€â”€â”€â”€â”€â–¶â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
  â”‚         â”‚      â”‚ Jogos           â”‚   â”‚           â”‚      â”‚ Lista de JogoDto â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚ - Titulo         â”‚
                          â”‚                                 â”‚ - Descricao      â”‚
                          â–¼                                 â”‚ - Preco (atual)  â”‚
                   ğŸŸ£ POLÃTICAS                             â”‚ - PrecoPago      â”‚
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚ - AdquiridoEm    â”‚
                   â”‚ Retorna apenas  â”‚                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚ jogos do usuÃ¡rioâ”‚
                   â”‚ autenticado     â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


CONSULTAR BIBLIOTECA DE USUÃRIO (ADMIN)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  ğŸ‘¤ ADMIN          ğŸ”µ COMANDO           ğŸŸ¡ AGREGADO         ğŸŸ¢ READ MODEL
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚         â”‚      â”‚                 â”‚   â”‚  Item     â”‚      â”‚ Biblioteca do    â”‚
  â”‚  Admin  â”‚â”€â”€â”€â”€â”€â–¶â”‚ ConsultarJogos  â”‚â”€â”€â–¶â”‚ Bibliotecaâ”‚â”€â”€â”€â”€â”€â–¶â”‚ UsuÃ¡rio X        â”‚
  â”‚         â”‚      â”‚ DeUsuario       â”‚   â”‚           â”‚      â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚ Lista de JogoDto â”‚
                          â”‚                                 â”‚ com NomeCompradorâ”‚
                          â–¼                                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   ğŸŸ£ POLÃTICAS
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚ Apenas admins   â”‚
                   â”‚ podem consultar â”‚
                   â”‚ biblioteca de   â”‚
                   â”‚ outros usuÃ¡rios â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Tabela de Comandos - Biblioteca

| Comando | Endpoint | Ator | PolÃ­ticas | Evento |
|---------|----------|------|-----------|--------|
| ComprarJogo | `POST /api/biblioteca/BuyGame` | UsuÃ¡rio/Admin | Jogo existe, NÃ£o duplicado, Snapshot preÃ§o | JogoComprado |
| ConsultarMeusJogos | `GET /api/biblioteca/GetMyGames` | UsuÃ¡rio/Admin | Apenas prÃ³prios jogos | - (Query) |
| ConsultarJogosDeUsuario | `GET /api/biblioteca/GetUserGamesById` | Admin | - | - (Query) |

---

## Big Picture

### VisÃ£o Geral do DomÃ­nio

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                                                                â”‚
â”‚                                    FIAP CLOUD GAMES - EVENT STORMING                                          â”‚
â”‚                                           BIG PICTURE                                                          â”‚
â”‚                                                                                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                â”‚                                â”‚                                              â”‚
â”‚   BOUNDED CONTEXT:             â”‚   BOUNDED CONTEXT:             â”‚   BOUNDED CONTEXT:                           â”‚
â”‚   GESTÃƒO DE USUÃRIOS           â”‚   CATÃLOGO DE JOGOS            â”‚   BIBLIOTECA / COMPRAS                       â”‚
â”‚                                â”‚                                â”‚                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                â”‚                                â”‚                                              â”‚
â”‚  ğŸŸ¡ AGREGADO                   â”‚  ğŸŸ¡ AGREGADO                   â”‚  ğŸŸ¡ AGREGADO                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚       USUARIO          â”‚    â”‚  â”‚         JOGO           â”‚    â”‚  â”‚    ITEMBIBLIOTECA      â”‚                  â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚    â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚    â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚                  â”‚
â”‚  â”‚ Id (PK)                â”‚    â”‚  â”‚ Id (PK)                â”‚    â”‚  â”‚ Id (PK)                â”‚                  â”‚
â”‚  â”‚ Nome                   â”‚    â”‚  â”‚ Titulo                 â”‚    â”‚  â”‚ UsuarioId (FK)         â”‚                  â”‚
â”‚  â”‚ Email (unique)         â”‚    â”‚  â”‚ Descricao              â”‚    â”‚  â”‚ JogoId (FK)            â”‚                  â”‚
â”‚  â”‚ SenhaHash              â”‚    â”‚  â”‚ Preco                  â”‚    â”‚  â”‚ PrecoPago              â”‚                  â”‚
â”‚  â”‚ Nivel (enum)           â”‚    â”‚  â”‚ CadastradoEm           â”‚    â”‚  â”‚ AdquiridoEm            â”‚                  â”‚
â”‚  â”‚ CadastradoEm           â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚                  â”‚
â”‚  â”‚ Ativo                  â”‚    â”‚                                â”‚  â”‚ UNIQUE(UsuarioId+JogoId)â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚                                â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                                â”‚                                â”‚                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                â”‚                                â”‚                                              â”‚
â”‚  ğŸ”µ COMANDOS                   â”‚  ğŸ”µ COMANDOS                   â”‚  ğŸ”µ COMANDOS                                 â”‚
â”‚  â€¢ CriarUsuario                â”‚  â€¢ CadastrarJogo               â”‚  â€¢ ComprarJogo                               â”‚
â”‚  â€¢ AtualizarUsuario            â”‚  â€¢ AtualizarJogo               â”‚  â€¢ ConsultarMeusJogos                        â”‚
â”‚  â€¢ ExcluirUsuario              â”‚  â€¢ ExcluirJogo                 â”‚  â€¢ ConsultarJogosDeUsuario                   â”‚
â”‚  â€¢ Autenticar                  â”‚  â€¢ ListarJogos                 â”‚                                              â”‚
â”‚  â€¢ ConsultarMeusDados          â”‚  â€¢ BuscarJogoPorId             â”‚                                              â”‚
â”‚  â€¢ ListarUsuarios              â”‚                                â”‚                                              â”‚
â”‚  â€¢ BuscarUsuarioPorId          â”‚                                â”‚                                              â”‚
â”‚                                â”‚                                â”‚                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                â”‚                                â”‚                                              â”‚
â”‚  ğŸŸ  EVENTOS                    â”‚  ğŸŸ  EVENTOS                    â”‚  ğŸŸ  EVENTOS                                  â”‚
â”‚  â€¢ UsuarioCriado               â”‚  â€¢ JogoCadastrado              â”‚  â€¢ JogoComprado                              â”‚
â”‚  â€¢ UsuarioAtualizado           â”‚  â€¢ JogoAtualizado              â”‚  â€¢ JogoAdicionadoNaBiblioteca                â”‚
â”‚  â€¢ UsuarioExcluido             â”‚  â€¢ JogoExcluido                â”‚                                              â”‚
â”‚  â€¢ UsuarioAutenticado          â”‚                                â”‚                                              â”‚
â”‚                                â”‚                                â”‚                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                â”‚                                â”‚                                              â”‚
â”‚  ğŸŸ£ POLÃTICAS                  â”‚  ğŸŸ£ POLÃTICAS                  â”‚  ğŸŸ£ POLÃTICAS                                â”‚
â”‚  â€¢ Email deve ser Ãºnico        â”‚  â€¢ TÃ­tulo Ã© obrigatÃ³rio        â”‚  â€¢ Jogo deve existir                         â”‚
â”‚  â€¢ Senha criptografada (AES)   â”‚  â€¢ PreÃ§o > 0                   â”‚  â€¢ UsuÃ¡rio nÃ£o pode ter                      â”‚
â”‚  â€¢ Validar credenciais         â”‚  â€¢ ID deve existir p/ update   â”‚    jogo duplicado                            â”‚
â”‚  â€¢ Token JWT vÃ¡lido            â”‚  â€¢ Cascade delete biblioteca   â”‚  â€¢ Snapshot do preÃ§o (PrecoPago)             â”‚
â”‚                                â”‚                                â”‚                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                â”‚                                â”‚                                              â”‚
â”‚  ğŸŸ¢ READ MODELS                â”‚  ğŸŸ¢ READ MODELS                â”‚  ğŸŸ¢ READ MODELS                              â”‚
â”‚  â€¢ InfoToken (GetMe)           â”‚  â€¢ CatÃ¡logo de Jogos           â”‚  â€¢ Minha Biblioteca (JogoDto)                â”‚
â”‚  â€¢ Lista de UsuÃ¡rios           â”‚  â€¢ Detalhe do Jogo             â”‚  â€¢ Biblioteca do UsuÃ¡rio (Admin)             â”‚
â”‚                                â”‚                                â”‚                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                â”‚                                â”‚                                              â”‚
â”‚  ğŸ‘¤ ATORES                     â”‚  ğŸ‘¤ ATORES                     â”‚  ğŸ‘¤ ATORES                                   â”‚
â”‚  â€¢ Admin (CRUD completo)       â”‚  â€¢ Admin (CRUD)                â”‚  â€¢ UsuÃ¡rio (compra, consulta prÃ³pria)        â”‚
â”‚  â€¢ UsuÃ¡rio (auth, getMe)       â”‚  â€¢ UsuÃ¡rio/Admin (leitura)     â”‚  â€¢ Admin (consulta de outros)                â”‚
â”‚                                â”‚                                â”‚                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                â”‚                                â”‚                                              â”‚
â”‚  ğŸ©· SISTEMAS EXTERNOS          â”‚                                â”‚                                              â”‚
â”‚  â€¢ JWT TokenService            â”‚                                â”‚                                              â”‚
â”‚  â€¢ CryptoService (AES)         â”‚                                â”‚                                              â”‚
â”‚  â€¢ SQL Server (EF Core)        â”‚                                â”‚                                              â”‚
â”‚                                â”‚                                â”‚                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Fluxo Temporal Completo

```
LINHA DO TEMPO - JORNADA COMPLETA DO USUÃRIO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

TEMPO â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Admin   â”‚   â”‚   Criar     â”‚   â”‚  Usuario  â”‚   â”‚   Usuario       â”‚   â”‚  Autenticar â”‚   â”‚   Usuario       â”‚
â”‚ cria    â”‚â”€â”€â–¶â”‚   Usuario   â”‚â”€â”€â–¶â”‚           â”‚â”€â”€â–¶â”‚   Criado        â”‚   â”‚             â”‚â”€â”€â–¶â”‚   Autenticado   â”‚
â”‚ usuario â”‚   â”‚             â”‚   â”‚           â”‚   â”‚                 â”‚   â”‚             â”‚   â”‚   (Token JWT)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    ğŸ‘¤             ğŸ”µ              ğŸŸ¡                  ğŸŸ                    ğŸ”µ                  ğŸŸ 

                                                                              â”‚
                                                                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   CatÃ¡logo de   â”‚â—€â”€â”€â”‚   Listar    â”‚â—€â”€â”€â”‚   Jogo    â”‚   â”‚   Admin cria    â”‚
â”‚   Jogos         â”‚   â”‚   Jogos     â”‚   â”‚           â”‚â—€â”€â”€â”‚   jogos         â”‚
â”‚   (Read Model)  â”‚   â”‚             â”‚   â”‚           â”‚   â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       ğŸŸ¢                  ğŸ”µ              ğŸŸ¡                  ğŸ‘¤

         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Comprar   â”‚â”€â”€â–¶â”‚ ItemBibliotecaâ”‚â”€â”€â–¶â”‚   JogoComprado  â”‚â”€â”€â–¶â”‚ Minha Bibliotecaâ”‚
â”‚   Jogo      â”‚   â”‚               â”‚   â”‚                 â”‚   â”‚ (Read Model)    â”‚
â”‚             â”‚   â”‚               â”‚   â”‚                 â”‚   â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      ğŸ”µ                ğŸŸ¡                   ğŸŸ                     ğŸŸ¢
```

---

## Detalhamento dos Elementos

### Eventos de DomÃ­nio

| Evento | Bounded Context | Dados | Trigger |
|--------|-----------------|-------|---------|
| **UsuarioCriado** | GestÃ£o de UsuÃ¡rios | Id, Nome, Email, Nivel, CadastradoEm | CriarUsuario |
| **UsuarioAtualizado** | GestÃ£o de UsuÃ¡rios | Id, Nome, Email, Nivel, Ativo | AtualizarUsuario |
| **UsuarioExcluido** | GestÃ£o de UsuÃ¡rios | Id | ExcluirUsuario |
| **UsuarioAutenticado** | GestÃ£o de UsuÃ¡rios | Id, Nome, Email, Nivel, Token | Autenticar |
| **JogoCadastrado** | CatÃ¡logo de Jogos | Id, Titulo, Descricao, Preco, CadastradoEm | CadastrarJogo |
| **JogoAtualizado** | CatÃ¡logo de Jogos | Id, Titulo, Descricao, Preco | AtualizarJogo |
| **JogoExcluido** | CatÃ¡logo de Jogos | Id | ExcluirJogo |
| **JogoComprado** | Biblioteca/Compras | UsuarioId, JogoId, PrecoPago, AdquiridoEm | ComprarJogo |

### Agregados

#### Usuario
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              USUARIO                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Id: int (PK, Identity)                    â”‚
â”‚  Nome: string (max 150, required)          â”‚
â”‚  Email: string (max 150, unique, required) â”‚
â”‚  SenhaHash: string (max 300, required)     â”‚
â”‚  Nivel: ETipoUsuario (1=Usuario, 2=Admin)  â”‚
â”‚  CadastradoEm: DateTime                    â”‚
â”‚  Ativo: bool (default: true)               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Invariantes:                              â”‚
â”‚  - Email deve ser Ãºnico no sistema         â”‚
â”‚  - Senha sempre armazenada como hash AES   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Jogo
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                JOGO                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Id: int (PK, Identity)                    â”‚
â”‚  Titulo: string (max 150, required, index) â”‚
â”‚  Descricao: string (max 500, required)     â”‚
â”‚  Preco: decimal(18,2)                      â”‚
â”‚  CadastradoEm: DateTime                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Invariantes:                              â”‚
â”‚  - Titulo nÃ£o pode ser vazio               â”‚
â”‚  - Preco deve ser > 0                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ItemBiblioteca
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           ITEMBIBLIOTECA                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Id: int (PK, Identity)                    â”‚
â”‚  UsuarioId: int (FK -> Usuario)            â”‚
â”‚  JogoId: int (FK -> Jogo)                  â”‚
â”‚  PrecoPago: decimal(18,2)                  â”‚
â”‚  AdquiridoEm: DateTime                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Invariantes:                              â”‚
â”‚  - UNIQUE(UsuarioId, JogoId)               â”‚
â”‚  - Cascade Delete em ambas as FKs          â”‚
â”‚  - PrecoPago = snapshot do preÃ§o na compra â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### PolÃ­ticas de NegÃ³cio

| PolÃ­tica | Contexto | DescriÃ§Ã£o | ValidaÃ§Ã£o |
|----------|----------|-----------|-----------|
| **EmailUnico** | UsuÃ¡rios | NÃ£o podem existir dois usuÃ¡rios com mesmo email | Banco (unique index) + Service |
| **SenhaCriptografada** | UsuÃ¡rios | Senhas nunca sÃ£o armazenadas em texto plano | CryptoUtils.Encrypt() |
| **TituloObrigatorio** | Jogos | Todo jogo deve ter um tÃ­tulo | Service validation |
| **PrecoPositivo** | Jogos | PreÃ§o do jogo deve ser > 0 | Service validation |
| **JogoExiste** | Biblioteca | SÃ³ pode comprar jogos que existem | Service validation |
| **JogoUnicoNaBiblioteca** | Biblioteca | UsuÃ¡rio nÃ£o pode ter o mesmo jogo duas vezes | Banco (composite unique) |
| **SnapshotPreco** | Biblioteca | PreÃ§o Ã© gravado no momento da compra | PrecoPago = Jogo.Preco |
| **CascadeDelete** | Biblioteca | Ao excluir jogo/usuÃ¡rio, itens da biblioteca sÃ£o excluÃ­dos | EF Core config |

### Read Models

| Read Model | Endpoint | Dados | Ator |
|------------|----------|-------|------|
| **InfoToken** | GET /usuario/GetMe | Id, Nome, Email, Nivel, CadastradoEm | UsuÃ¡rio autenticado |
| **ListaUsuarios** | GET /usuario/GetAll | Lista de Usuario | Admin |
| **DetalheUsuario** | GET /usuario/GetById | Usuario completo | Admin |
| **CatalogoJogos** | GET /jogo/GetAll | Lista de Jogo | UsuÃ¡rio/Admin |
| **DetalheJogo** | GET /jogo/GetById | Jogo completo | UsuÃ¡rio/Admin |
| **MinhaBiblioteca** | GET /biblioteca/GetMyGames | Lista de JogoDto | UsuÃ¡rio |
| **BibliotecaUsuario** | GET /biblioteca/GetUserGamesById | Lista de JogoDto | Admin |

### Sistemas Externos

| Sistema | Responsabilidade | Tecnologia |
|---------|------------------|------------|
| **TokenService** | GeraÃ§Ã£o e validaÃ§Ã£o de tokens JWT | JWT Bearer (HS256) |
| **CryptoService** | Criptografia/descriptografia de senhas | AES com chave fixa |
| **SQL Server** | PersistÃªncia de dados | Entity Framework Core |
| **Swagger** | DocumentaÃ§Ã£o da API | OpenAPI/Swagger UI |

---

## GlossÃ¡rio de DomÃ­nio

| Termo | DefiniÃ§Ã£o |
|-------|-----------|
| **Usuario** | Pessoa cadastrada no sistema, pode ser do tipo comum ou administrador |
| **Administrador** | UsuÃ¡rio com permissÃµes elevadas (Nivel = 2), pode gerenciar usuÃ¡rios e jogos |
| **Jogo** | Produto digital disponÃ­vel para compra no catÃ¡logo |
| **Biblioteca** | ColeÃ§Ã£o de jogos adquiridos por um usuÃ¡rio |
| **ItemBiblioteca** | Registro de aquisiÃ§Ã£o de um jogo por um usuÃ¡rio |
| **PrecoPago** | Valor pago pelo jogo no momento da compra (snapshot) |
| **CatÃ¡logo** | Lista de todos os jogos disponÃ­veis para compra |
| **Token JWT** | Credencial de autenticaÃ§Ã£o com claims do usuÃ¡rio |
| **Nivel** | Tipo de usuÃ¡rio (1 = Usuario comum, 2 = Administrador) |
| **SenhaHash** | Senha do usuÃ¡rio criptografada com AES |

---

## ReferÃªncias de ImplementaÃ§Ã£o

| Elemento | Arquivo | Linha |
|----------|---------|-------|
| Entity Usuario | FiapCloudGames.Domain/Entities/Usuario.cs | - |
| Entity Jogo | FiapCloudGames.Domain/Entities/Jogo.cs | - |
| Entity ItemBiblioteca | FiapCloudGames.Domain/Entities/ItemBiblioteca.cs | - |
| UsuarioService | FiapCloudGames.Application/Services/UsuarioService.cs | - |
| JogoService | FiapCloudGames.Application/Services/JogoService.cs | - |
| BibliotecaService | FiapCloudGames.Application/Services/BibliotecaService.cs | - |
| UsuarioController | FiapCloudGames.API/Controllers/UsuarioController.cs | - |
| JogoController | FiapCloudGames.API/Controllers/JogoController.cs | - |
| BibliotecaController | FiapCloudGames.API/Controllers/BibliotecaController.cs | - |

---

*Documento gerado atravÃ©s de engenharia reversa da API FIAP Cloud Games*
*Event Storming - Janeiro 2026*
